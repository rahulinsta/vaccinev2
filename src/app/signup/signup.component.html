<div class="container">
  <div class="col-md-8 mx-auto">
    <main class="form-signin  text-center pb-4">
      <form [formGroup]="form" (ngSubmit)="submit()" class="formaddedit">
        <div class="logo-img">
          <a href="">
            MyDigiRecords

          </a>
        </div>
        <h1 class="mb-2 mt-4">Sign Up</h1>
        <p class="mb-4 fw-normal text-muted">Sign Up to keep track of your vaccination records</p>

        <div class="row">
          <div class="col-md-6">
            <div class="form-floating mb-3 phone-input">
              <ngx-intl-tel-input
              [cssClass]="'form-control'"
              [preferredCountries]="preferredCountries"
              [enableAutoCountrySelect]="true"
              [enablePlaceholder]="false"
              [searchCountryFlag]="true"
              [searchCountryField]="[
                SearchCountryField.Iso2,
                SearchCountryField.Name
              ]"
              [selectFirstCountry]="false"
              [selectedCountryISO]="CountryISO.UnitedStates"
              [phoneValidation]="true"
              [separateDialCode]="false"
              [maxLength]="maxLength"
              name="phone_no"
              formControlName="phone_no"
            >
            </ngx-intl-tel-input>
              <label for="floatingInput">Phone Number <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['phone_no'].invalid" class="errFrm">
                <div *ngIf="f['phone_no'].errors && f['phone_no'].errors['required']">Phone is required.</div>
                <div *ngIf="f['phone_no'].errors && f['phone_no'].errors['validatePhoneNumber']">Invalid Phone Number</div>
                
              </div>
    
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating mb-3">
              <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email">
              <label for="email">Email</label>
              <div *ngIf="isSubmitted && f['email'].invalid" class="errFrm">
                <div *ngIf="f['email'].errors && f['email'].errors['required']">Email is required.</div>
                <div *ngIf="f['email'].errors && f['email'].errors['pattern']">Please, enter valid email address.</div>
              </div>
            </div>
    
           
    
          </div>


          <div class="col-md-4">
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="fname" placeholder="Name" formControlName="fname">
              <label for="name">First Name <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['fname'].invalid" class="errFrm">
                <div *ngIf="f['fname'].errors && f['fname'].errors['required']">First name is required.</div>
              </div>
    
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="mname" placeholder="Middle Name" formControlName="mname">
              <label for="mname">Middle Name</label>
    
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="lname" placeholder="Last name" formControlName="lname">
              <label for="name">Last Name <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['lname'].invalid" class="errFrm">
                <div *ngIf="f['lname'].errors && f['lname'].errors['required']">Last name is required.</div>
              </div>
    
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating mb-3">

              <select class="form-control" id="gender" placeholder="Select Gender" formControlName="gender">
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
              <label for="gender">Select Gender <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['gender'].invalid" class="errFrm">
                <div *ngIf="f['gender'].errors && f['gender'].errors['required']">Gender is required.</div>
              </div>
    
            </div>
          </div>
          <div class="col-md-6"> 
            <div class="form-floating mb-3">
              <input type="date" class="form-control" id="dob" max="{{maxDate}}" placeholder="DOB" formControlName="dob">
              <label for="name">Date of Birth <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['dob'].invalid" class="errFrm">
                <div *ngIf="f['dob'].errors && f['dob'].errors['required']">Date of birth is required.</div>
              </div>
    
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="emergency_number" placeholder="emergency_number" formControlName="emergency_number">
              <label for="emergency_number">Emergency Phone Number</label>
    
              <div *ngIf="isSubmitted && f['emergency_number'].invalid" class="errFrm">
                <div *ngIf="f['emergency_number'].errors && f['emergency_number'].errors['required']">Emergency number is required.</div>
              </div>
    
    
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating mb-3">
              <select class="form-control" id="bloodGroup" placeholder="Select Blood Group" formControlName="blood_group">
                <option value="A">A</option>
                <option value="AB">AB</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="O+">O+</option>
              </select>
              <label for="bloodGroup">Select Blood Group</label>
    
              <div *ngIf="isSubmitted && f['blood_group'].invalid" class="errFrm">
                <div *ngIf="f['blood_group'].errors && f['blood_group'].errors['required']">Blood group is required.</div>
              </div>
    
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating mb-3">
              <input type="password" class="form-control" id="password" placeholder="password" formControlName="password">
              <label for="password">Password <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['password'].invalid" class="errFrm">
                <div *ngIf="f['password'].errors && f['password'].errors['required']">Password is required.</div>
              </div>
    
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating mb-3">
              <input type="password" class="form-control" id="password_confirmation" placeholder="password_confirmation" formControlName="password_confirmation">
              <label for="password_confirmation">Confirm Password <sup class="text-danger">*</sup></label>
    
              <div *ngIf="isSubmitted && f['password_confirmation'].invalid" class="errFrm">
                <div *ngIf="f['password_confirmation'].errors && f['password_confirmation'].errors['required']">Confirm password is required.</div>
                <div *ngIf="f['password_confirmation'].errors?.['passwordMismatch']">Password and confirm not match</div>
              </div>
    
            </div>
          </div>
        </div>

      

       

        

       


        

       

       


        

       
        <ng-container *ngIf="message?.msg?.length > 0">
          <div class="alert" [ngClass]="{'alert-danger': !message?.status, 'alert-success': message?.status}" role="alert" *ngFor="let errMsg of message?.msg">
              {{errMsg}}
          </div>
      </ng-container>




        <button class="w-100 btn btn-lg btn-primary" type="submit" [disabled]="isSubmit">
          Continue
          <div class="spinner-border form-loader ml-2" role="status" *ngIf="isSubmit"></div>
        </button>

        <p class="mt-2 mb-0">Already have an account ? <b><a [routerLink]="['/login']">Login</a></b></p>
        <div id="sign-in-button"></div>
      </form>
    </main>
  </div>
</div>
